Script: https://script.google.com/macros/s/AKfycbzTRWFPeErTSXQGeMItevRfACV6AeGxNui0c0N8CbzR3x4iGGBmZwVayw_npoAZCbnu1w/exec
Data: 1l9NUfMA71Ff_bgTk4ABXbiL9yoWlyBHvnEoJgWzLeBE


Есть приложение для извлечения и отображения данных из листа Data Google Sheet TenantData по ссылке https://docs.google.com/spreadsheets/d/1l9NUfMA71Ff_bgTk4ABXbiL9yoWlyBHvnEoJgWzLeBE/edit?gid=0#gid=0. Также есть Google Apps Script Code.gs который обрабатывает данные таблицы TenantData, управляет кешированием, логированием и т.п. 1. Приложение предназначено для пожилой леди, сдающей в аренду свои аппартаманты по разным адресам. Она говорит только на английском. ПОЭТОМУ все подсказки и интерфейс должен быть ТОЛЬКО НА АНГЛИЙСКОМ. НИКАКИХ ДРУГИХ ЯЗЫКОВ В ПРИЛОЖЕНИИ НЕ ПРЕДУСМОТРЕНО. 2. У леди есть в базе имена украинских (и других) постояльцев, записанные латиницей. Чтобы использовать голосовой ввод, мы сделали ПЕРЕКЛЮЧАТЕЛЬ ГОЛОСОВЫХ ДВИЖКОВ для поиска украинских имен украинским голосовым движком, которые потом транслитерируются и подставляются автоматически латиницей в поисковую строку для поиска. И использование английского голосового движка для поиска английских имен без транслитерации, с подстановкой в поисковую строку напрямую. 5. Также у нас есть кнопки активации фильтров, которые сужают область поиска до имен и синонимов и до адресов и eircode. Механизм должен предполагать поиск и по части данных. 3. Также у нас есть выпадающая подсказка, которая содержит строки, которые можно выбрать. 4. В настоящее время у нас имеются следующие проблемы: 4.1. При каждом обновлении страницы запрашиваются данные, будто кеш все время считается не актуальным. Возможно локально не сохраняются данные об актуальности или они сохраняются вместе с данными или стратегия проверки наличия кеша и его актуализации имеет недостатки. 4.2. поиск должен осуществляться без учета регистра и знаков препинания (это касается ввод данных с клавиатуры, голосом или через выпадающее меню). 5. Что скажешь? Как обеспечить лучший мировой и современный UI/UX на уровне IT-гигантов Google и Apple? Хочу заметить, что приложением будет пользоваться один-два англоговорящих человека. Не более. Использовать будут iPhone старенький с маленьким экраном и Более-менее современный смартфон на Андроид 14. Величину шрифта мы уже подобрали. Увеличивать еще больше не стоит. 6. Я хотел бы улучшить поиск по части данных. Так, например, у меня есть идея: перед помещением в кеш парсить данный, удаляя из них пробелы, точки, запятые и пр. специальные символы. Сохранять нужно «рядом с оригинальным форматированием». Поиск тоже делать без учета регистра и этих специальных символов. Тогда пользователь может вводить пробелы, точки, тире, запятые и т.п., но все равно результат будет найден корректный и отобразится «как в базе» — с оригинальным форматирование. Что скажешь? Я просто ищу способ улучшить качество поиска, но при этом сохранить форматирование. Однако не хотелось бы жертвовать удобством и быстродействием, для предоставления лучшего пользовательского опыта.



/* Улучшение видимости микрофона в темной теме */
.dark-theme .voice-search.listening {
  animation: pulse-dark 1.5s infinite;
  background-color: var(--success);
  color: white;
}

@keyframes pulse-dark {
  0% { 
    transform: translateY(-50%) scale(1);
    box-shadow: 0 0 0 0 rgba(172, 255, 172, 0.7); 
  }
  70% { 
    transform: translateY(-50%) scale(1.05);
    box-shadow: 0 0 0 10px rgba(172, 255, 172, 0); 
  }
  100% { 
    transform: translateY(-50%) scale(1);
    box-shadow: 0 0 0 0 rgba(172, 255, 172, 0); 
  }
}

/* Иконка солнца в темной теме */
.dark-theme .theme-toggle i {
  color: #FFE35B !important; /* Светло-желтый */
  text-shadow: 0 0 5px rgba(255, 215, 0, 0.5);
}